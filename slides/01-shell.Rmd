---
title: "An Introduction to the shell"
author: "Jelmer Poelstra"
institute: "MCIC Wooster"
date: "2020/12/16 (updated: `r Sys.Date()`)"
output:
  xaringan::moon_reader:
    lib_dir: libs
    nature:
      highlightStyle: github
      highlightLines: true
      countIncrementalSlides: false
---

```{r setup, include=FALSE}
options(htmltools.dir.version = FALSE)
```

## What is a shell?

---

## Interactive jobs on `SLURM`

- Start a 1-hour, single-core interactive job with a `bash` shell:
```sh
$ srun --nodes=1 --ntasks-per-node=1 --time=01:00:00 --pty bash -i
```

- Can also use `salloc` and `sinteractive`.

---

## Batch jobs on `SLURM`

- Unlike in `PBS`, job script needs to start with shebang line:
```sh
#!/bin/bash
```

- Submit a job:
```sh
$ sbatch myscript.sh [script-options] [script-args]
```

- Monitor your jobs:
```bash
$ squeue -u <username>
```

---

## Some common `sbatch` options:

```sh
#SBATCH --nodes=<N>
#SBATCH --ntasks-per-node=<N>
#SBATCH --time=HH:MM:SS
#SBATCH --mem=Xgb               # Default is Mb, hence "gb" specification
#SBATCH --job-name=<myjobname>
#SBATCH --account=<projectID>
```

--- 

## Some more advanced `sbatch` options:

```sh
--begin=2020-10-20T12:00:00
```

---
