<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />




<title> Workflow part I: Primer and Adapter Removal</title>

<script src="site_libs/header-attrs-2.5/header-attrs.js"></script>
<script src="site_libs/jquery-1.11.3/jquery.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/cerulean.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<script src="site_libs/jqueryui-1.11.4/jquery-ui.min.js"></script>
<link href="site_libs/tocify-1.9.1/jquery.tocify.css" rel="stylesheet" />
<script src="site_libs/tocify-1.9.1/jquery.tocify.js"></script>
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<script src="site_libs/navigation-1.1/codefolding.js"></script>
<script src="site_libs/navigation-1.1/sourceembed.js"></script>
<link href="site_libs/highlightjs-9.12.0/default.css" rel="stylesheet" />
<script src="site_libs/highlightjs-9.12.0/highlight.js"></script>
<link href="site_libs/anchor-sections-1.0/anchor-sections.css" rel="stylesheet" />
<script src="site_libs/anchor-sections-1.0/anchor-sections.js"></script>
<link href="site_libs/font-awesome-5.1.0/css/all.css" rel="stylesheet" />
<link href="site_libs/font-awesome-5.1.0/css/v4-shims.css" rel="stylesheet" />

<style type="text/css">
  code{white-space: pre-wrap;}
  span.smallcaps{font-variant: small-caps;}
  span.underline{text-decoration: underline;}
  div.column{display: inline-block; vertical-align: top; width: 50%;}
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  ul.task-list{list-style: none;}
    </style>

<style type="text/css">code{white-space: pre;}</style>
<style type="text/css">
  pre:not([class]) {
    background-color: white;
  }
</style>
<script type="text/javascript">
if (window.hljs) {
  hljs.configure({languages: []});
  hljs.initHighlightingOnLoad();
  if (document.readyState && document.readyState === "complete") {
    window.setTimeout(function() { hljs.initHighlighting(); }, 0);
  }
}
</script>



<style type="text/css">
h1 {
  font-size: 34px;
}
h1.title {
  font-size: 38px;
}
h2 {
  font-size: 30px;
}
h3 {
  font-size: 24px;
}
h4 {
  font-size: 18px;
}
h5 {
  font-size: 16px;
}
h6 {
  font-size: 12px;
}
.table th:not([align]) {
  text-align: left;
}
#rmd-source-code {
  display: none;
}
</style>

<link rel="stylesheet" href="my.css" type="text/css" />



<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
code {
  color: inherit;
  background-color: rgba(0, 0, 0, 0.04);
}
img {
  max-width:100%;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
summary {
  display: list-item;
}
</style>


<style type="text/css">
/* padding for bootstrap navbar */
body {
  padding-top: 51px;
  padding-bottom: 40px;
}
/* offset scroll position for anchor links (for fixed navbar)  */
.section h1 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h2 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h3 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h4 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h5 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h6 {
  padding-top: 56px;
  margin-top: -56px;
}
.dropdown-submenu {
  position: relative;
}
.dropdown-submenu>.dropdown-menu {
  top: 0;
  left: 100%;
  margin-top: -6px;
  margin-left: -1px;
  border-radius: 0 6px 6px 6px;
}
.dropdown-submenu:hover>.dropdown-menu {
  display: block;
}
.dropdown-submenu>a:after {
  display: block;
  content: " ";
  float: right;
  width: 0;
  height: 0;
  border-color: transparent;
  border-style: solid;
  border-width: 5px 0 5px 5px;
  border-left-color: #cccccc;
  margin-top: 5px;
  margin-right: -10px;
}
.dropdown-submenu:hover>a:after {
  border-left-color: #ffffff;
}
.dropdown-submenu.pull-left {
  float: none;
}
.dropdown-submenu.pull-left>.dropdown-menu {
  left: -100%;
  margin-left: 10px;
  border-radius: 6px 0 6px 6px;
}
</style>

<script>
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark it active
  menuAnchor.parent().addClass('active');

  // if it's got a parent navbar menu mark it active as well
  menuAnchor.closest('li.dropdown').addClass('active');
});
</script>

<!-- tabsets -->

<style type="text/css">
.tabset-dropdown > .nav-tabs {
  display: inline-table;
  max-height: 500px;
  min-height: 44px;
  overflow-y: auto;
  background: white;
  border: 1px solid #ddd;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs > li.active:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li.active:before {
  content: "&#xe258;";
  border: none;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs > li.active {
  display: block;
}

.tabset-dropdown > .nav-tabs > li > a,
.tabset-dropdown > .nav-tabs > li > a:focus,
.tabset-dropdown > .nav-tabs > li > a:hover {
  border: none;
  display: inline-block;
  border-radius: 4px;
  background-color: transparent;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li {
  display: block;
  float: none;
}

.tabset-dropdown > .nav-tabs > li {
  display: none;
}
</style>

<!-- code folding -->
<style type="text/css">
.code-folding-btn { margin-bottom: 4px; }
</style>



<style type="text/css">

#TOC {
  margin: 25px 0px 20px 0px;
}
@media (max-width: 768px) {
#TOC {
  position: relative;
  width: 100%;
}
}

@media print {
.toc-content {
  /* see https://github.com/w3c/csswg-drafts/issues/4434 */
  float: right;
}
}

.toc-content {
  padding-left: 30px;
  padding-right: 40px;
}

div.main-container {
  max-width: 1200px;
}

div.tocify {
  width: 20%;
  max-width: 260px;
  max-height: 85%;
}

@media (min-width: 768px) and (max-width: 991px) {
  div.tocify {
    width: 25%;
  }
}

@media (max-width: 767px) {
  div.tocify {
    width: 100%;
    max-width: none;
  }
}

.tocify ul, .tocify li {
  line-height: 20px;
}

.tocify-subheader .tocify-item {
  font-size: 0.90em;
}

.tocify .list-group-item {
  border-radius: 0px;
}


</style>



</head>

<body>


<div class="container-fluid main-container">


<!-- setup 3col/9col grid for toc_float and main content  -->
<div class="row-fluid">
<div class="col-xs-12 col-sm-4 col-md-3">
<div id="TOC" class="tocify">
</div>
</div>

<div class="toc-content col-xs-12 col-sm-8 col-md-9">




<div class="navbar navbar-default  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">Microbiomics Workshop</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="index.html">
    <span class="fa fa-home"></span>
     
    Overview
  </a>
</li>
<li>
  <a href="00-setup.html">
    <span class="fa fa-gear"></span>
     
    Setup
  </a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Day 1
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li class="dropdown-header">Lectures:</li>
    <li>
      <a href="01-microbiomics.html">Intro to Amplicon Sequencing</a>
    </li>
    <li class="divider"></li>
    <li class="dropdown-header">Lecture/Code-along:</li>
    <li>
      <a href="02-shell.html">Intro to the Shell</a>
    </li>
    <li>
      <a href="03-OSC.html">Intro to OSC</a>
    </li>
    <li class="divider"></li>
    <li class="dropdown-header">Workflow Sessions:</li>
    <li>
      <a href="04-data-overview.html">Overview</a>
    </li>
    <li>
      <a href="05-preprocess-reads.html">I: Adapter and Primer Removal</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Day 2
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li class="dropdown-header">Lecture/Code-along:</li>
    <li>
      <a href="06-R.html">Intro to R</a>
    </li>
    <li class="divider"></li>
    <li class="dropdown-header">Workflow Sessions:</li>
    <li>
      <a href="07-ASV-inference.html">II: ASV Inference</a>
    </li>
    <li>
      <a href="08-postASV-analysis.html">III: ASV Analysis</a>
    </li>
  </ul>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/mcic-osu/2020-12-microbiomics-workshop.git">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div class="fluid-row" id="header">

<div class="btn-group pull-right">
<button type="button" class="btn btn-default btn-xs dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"><span>Code</span> <span class="caret"></span></button>
<ul class="dropdown-menu" style="min-width: 50px;">
<li><a id="rmd-download-source" href="#">Download Rmd</a></li>
</ul>
</div>



<h1 class="title toc-ignore"><br>Workflow part I:<br>Primer and Adapter Removal</h1>

</div>


<p><br></p>
<hr />
<div id="goals" class="section level2">
<h2>Goals</h2>
<ul>
<li>Remove primers and adapters from our sequences.</li>
<li>While doing so, we’ll learn:
<ul>
<li>How to load a <code>conda</code> environment.</li>
<li>Some basics of writing a shell script.</li>
<li>How to run <code>cutadapt</code>.</li>
<li>How to submit and monitor a job with the <em>SLURM</em> scheduler.</li>
</ul></li>
</ul>
<hr />
</div>
<div id="before-we-get-started" class="section level2">
<h2>Before We Get Started</h2>
<div id="notes" class="section level3">
<h3>Notes</h3>
<ul>
<li>You can download this <code>Rmd</code> (R Markdown) file by clicking the <code>Code</code> button in the top-right of this page. To convert an <code>Rmd</code> file to an R script, type the following in an R console: <code>knitr::purl(input="&lt;filename&gt;.Rmd")</code>.</li>
</ul>
</div>
<div id="setup" class="section level3">
<h3>Setup</h3>
<ul>
<li><p>Login to OSC at <a href="https://ondemand.osc.edu" class="uri">https://ondemand.osc.edu</a>.</p></li>
<li><p>Enter a terminal in your browser at OSC by clicking <code>Cluster</code> &gt; <code>Pitzer Shell Access</code>. (Or use <a href="https://ondemand.osc.edu/pun/sys/shell/ssh/pitzer.osc.edu">this direct link</a>.)</p></li>
<li><p>Go to this your directory for this workshop at OSC:</p>
<pre class="sh"><code>cd /fs/project/PAS0471/workshops/2020-12_micro/$USER</code></pre></li>
</ul>
<hr />
</div>
</div>
<div id="getting-started" class="section level2">
<h2>Getting Started</h2>
<p><a href="https://cutadapt.readthedocs.io/en/stable/index.html"><code>cutadapt</code></a> is a software package to remove any adapters and primers that may be present in raw sequence data.</p>
<p>We will use the output from <code>cutadapt</code> as input for the next step in our workflow, <a href="07-ASV-inference.html">ASV Infererence and Taxon Assignment</a>.</p>
<div id="primers" class="section level3">
<h3>Primers</h3>
<p>These are the primers that were used in this amplicon sequencing. we want to remove:</p>
<ul>
<li>515F: <em>GAGTGYCAGCMGCCGCGGTAA</em></li>
<li>806R: <em>ACGGACTACNVGGGTWTCTAAT</em></li>
<li>515F reverse complement: <em>TTACCGCGGCKGCTGRCACTC</em></li>
<li>806R reverse complement: <em>ATTAGAWACCCBNGTAGTCCGT</em></li>
</ul>
<p>We will specify these primers when running <code>cutadapt</code>.</p>
</div>
<div id="load-the-conda-environment-with-cutadapt" class="section level3">
<h3>Load the <code>conda</code> environment with <code>cutadapt</code></h3>
<p><code>cutadapt</code> is not available as a module at OSC. However, it can be easily installed there through <code>conda</code>, see this <a href="https://cutadapt.readthedocs.io/en/stable/installation.html#installation-with-conda">webpage</a>.<br />
We have already done this for you to save some time, so we just need to load the <code>conda</code> environment.</p>
<p>To work with <code>conda</code> at OSC, we first need to load the <code>conda</code> module:</p>
<pre class="sh"><code>module load python/3.6-conda5.2</code></pre>
<p>Assuming that you haven’t worked with conda before at OSC, we also need to a bit of additional setup:</p>
<pre class="bash"><code># This will add a line to your bash config file, which runs every time you start
# a shell, to run the conda setup script:
echo &quot;. /apps/python/3.6-conda5.2/etc/profile.d/conda.sh&quot; &gt;&gt; ~/.bashrc

# Next, we source (run) the config file in our current shell to also run the conda
# setup script right now:
source ~/.bashrc</code></pre>
<p>Then, we activate our <code>conda</code> environment for <code>cutadapt</code>:</p>
<pre class="bash"><code>conda activate /users/PAS0471/osu5685/.conda/envs/cutadaptenv</code></pre>
<p><br></p>
<p>Now, <code>cutadapt</code> should be in <code>$PATH</code>, i.e. we can simply call it by its name to run it. To test this:</p>
<pre class="bash"><code>cutadapt --version     # Will just print the version number
cutadapt --help        # Will print a whole lot of documentation</code></pre>
<hr />
</div>
</div>
<div id="a-script-to-run-cutadapt" class="section level2">
<h2>A Script to Run <code>cutadapt</code></h2>
<div id="part-a-boilerplate-and-slurm-directives" class="section level3">
<h3>Part A: Boilerplate and <em>SLURM</em> directives</h3>
<ol style="list-style-type: decimal">
<li><p>Our first line, <code>#!/bin/bash</code>, is the <em>“shebang”</em> line that tells us what program (language) our script uses, which is <code>bash</code> in this case.</p></li>
<li><p>We’ll provide the <code>SLURM</code> directives one line at a time, using the <code>#SBATCH</code> keyword followed by an option: <code>nodes</code> for the number of nodes, <code>ntasks-per-node</code> for the number of cores, <code>time</code> for the maximum walltime of the job (here specificed using just minutes), and <code>account</code> for the OSC project that should be billed.</p></li>
<li><p>We’ll set a couple of options with <code>set</code> that make <code>bash</code> run safer, by making it stop the script whenever an error is encountered (by default, the script will keep running.)</p></li>
<li><p>We’ll use an <code>echo</code> statement to print to screen what script we are running, and the <code>date</code> command to keep track of the script’s runtime. (The <code>-e</code> option to <code>echo</code> allows us to print newlines using <code>\n</code>).</p></li>
</ol>
<pre class="bash"><code>#!/bin/bash                   # 1. First line should be the shebang line
#SBATCH --nodes=1             # 2. Provide sbatch directives
#SBATCH --ntasks-per-node=1
#SBATCH --time=60
#SBATCH --account=PAS0471

# 3. Run bash in &quot;safe mode&quot;, basically
set -e -u -o pipefail    

# 4. Report:
echo -e &quot;\n## Starting cutadapt script.&quot;
date</code></pre>
</div>
<div id="part-b-parse-arguments-and-set-up-directories" class="section level3">
<h3>Part B: Parse arguments and set up directories</h3>
<ol style="list-style-type: decimal">
<li><p>So-called “positional” arguments that are passed onto a script using the syntax <code>./script.sh arg1 arg2</code> are represented inside a script as the variables <code>$1</code>, <code>$2</code>, etc. First, we will give these variables a more informative name.</p></li>
<li><p>We’ll define the two separate dirs we’ll have for the first and second round of trimming that we’ll do by extending the “base” output dir.</p></li>
<li><p>We’ll create the output directories if they don’t already exist. Using the <code>-p</code> option, <code>mkdir</code> can create multiple levels at once, and will not complain if the dir(s) already exist.</p></li>
<li><p>We’ll report the directory variables to screen, which will be helpful e.g. if we’d need to debug our script.</p></li>
</ol>
<pre class="bash"><code># SETUP --------------------------------------------------------
# 1. Command-line arguments:
indir=$1
outdir_base=$2

# 2. Define output directories for first and second trim:
outdir_trim1=$outdir_base/first_trim
outdir_trim2=$outdir_base/second_trim

# 3. Create output directories if they don&#39;t already exist:
mkdir -p $outdir_trim1
mkdir -p $outdir_trim2

# 4. Report:
echo &quot;## Input dir:                 $indir&quot;
echo &quot;## Output dir - first trim:   $outdir_trim1&quot;
echo &quot;## Input dir - second trim:   $outdir_trim1&quot;</code></pre>
</div>
<div id="part-c-loop-through-fastq-files-and-run-cutadapt-for-each-pair" class="section level3">
<h3>Part C: Loop through <code>fastq</code> files and run <code>cutadapt</code> for each pair:</h3>
<p>We will run <code>cutadapt</code> separately for each sample, using a <code>for</code> loop to cycle through all the files. This is made a little more complicated because we have <strong>two files</strong> for each sample: one with forwards reads (which has “R1” in its filename) and one with reverse reads (“R2”).</p>
<ol style="list-style-type: decimal">
<li><p>We’ll initialize the <code>for</code> loop, which is done using <code>for X in XYZ</code> syntax. What we’ll loop over (XYZ above) are all the “R1” fastq files, i.e. the ones with the forward reads. We list all of those by taking advantage of the <code>*</code> wildcard.</p></li>
<li><p>Now, <code>$R1</code> (defined using <code>R1</code> in the loop initiation line) contains, in each rendition of the loop, a single file name. Because it also contains the dir name, we will extract the file name only using the <code>basename command</code>. The <code>$()</code> notation is called command substitution, and simply allows us to assign the output of a command to a variable.</p></li>
<li><p>To get the corresponding file with reverse reads, which should always have the exact same name except that it contains “R2” rather than “R1”, we simply substitute “R1” by “R2” in the file name using a little trick with the syntax <code>${variable_name/pattern/replacement}</code>.</p></li>
<li><p>To make sure all is well, we list the R1 and R2 input files.</p></li>
<li><p>Now, we’ll do the first round of trimming using the forward <em>primer</em> sequences. We use <code>\</code> just to allow the command to continue across multiple lines for easy of reading (the <code>\</code> “escapes” the return/newline).</p></li>
<li><p>We’ll do the second round of trimming using the reverse <em>primer</em> sequences.</p></li>
<li><p>We tell the loop that is done using <code>done</code>.</p></li>
</ol>
<pre class="bash"><code># RUN CUTADAPT --------------------------------------------------------
# 1. Initialize the loop:
for R1 in $indir/*_R1_*.fastq.gz
do
  # 2. Get the filenames for the fastq files with forward (R1) and reverse (R2) reads:
  R1=$(basename $R1)   # `basename` will strip the directory from the name
  
  # 3. 
  R2=${R1/_R1_/_R2_}   # This will substitute &quot;_R1_&quot; with &quot;_R2_&quot; in the filename.
  
  # 4. Report input files:
  echo &quot;## R1 input file:&quot;
  ls -lh $indir/$R1
  echo &quot;## R2 input file:&quot;
  ls -lh $indir/$R2

  # 5. First trim:
  echo -e &quot;\n\n## Running cutadapt for the first trim:&quot;
    
    cutadapt -g GAGTGYCAGCMGCCGCGGTAA -G ACGGACTACNVGGGTWTCTAAT \
    --discard-untrimmed --pair-filter=any \
    -o $outdir_trim1/$R1 -p $outdir_trim1/$R2 \
    $indir/$R1 $indir/$R2
    
    # 6. Second trim:
  echo -e &quot;\n\n## Running cutadapt for the second trim:&quot;
    
    cutadapt -a ATTAGAWACCCBNGTAGTCCGT -A TTACCGCGGCKGCTGRCACTC \
    -o $outdir_trim2/$R1 -p $outdir_trim2/$R2 \
    $outdir_trim1/$R1 $outdir_trim1/$R2
  
  # 7. Exit the loop using the `done` keyword
done</code></pre>
</div>
<div id="part-d-list-output-files-as-a-check" class="section level3">
<h3>Part D: List output files as a check:</h3>
<p>Finally, we’ll list our output files, as another way to check whether the script has run as it was supposed, and we’ll also print the <code>date</code> again to check the (date and) time that our script finished running.</p>
<pre class="bash"><code># REPORT AND FINALIZE --------------------------------------------------------
echo -e &quot;\n\n## Listing output files - first trim:&quot;
ls -lh $outdir_trim1

echo -e &quot;\n\n## Listing output files - second trim:&quot;
ls -lh $outdir_trim1

echo -e &quot;\n\n## Done with cutadapt script.&quot;
date</code></pre>
</div>
<div id="the-entire-script" class="section level3">
<h3>The entire script</h3>
<details>
<p><summary> Click here to see the entire script. </summary></p>
<pre class="sh"><code>#!/bin/bash
#SBATCH --nodes=1
#SBATCH --ntasks-per-node=1
#SBATCH --time=60
#SBATCH --account=PAS0471

set -e -u -o pipefail    # Run bash in &quot;safe mode&quot;, basically

# Report:
echo -e &quot;\n## Starting cutadapt script.&quot;
date

# SETUP --------------------------------------------------------
# Command-line arguments:
indir=$1
outdir_base=$2

# Define output directories for first and second trim:
outdir_trim1=$outdir_base/first_trim
outdir_trim2=$outdir_base/second_trim

# Create output directories if they don&#39;t already exist:
mkdir -p $outdir_trim1
mkdir -p $outdir_trim2

# Report:
echo &quot;## Input dir:                 $indir&quot;
echo &quot;## Otput dir - first trim:    $outdir_trim1&quot;
echo &quot;## Input dir - second trim:   $outdir_trim1&quot;

# RUN CUTADAPT --------------------------------------------------------
echo -e &quot;\n## Looping through input files...\n&quot;

for R1 in $indir/*_R1_*.fastq.gz
do
  R1=$(basename $R1)
  R2=${R1/_R1_/_R2_}
  
  # Report input files:
  echo &quot;## R1 input file:&quot;
  ls -lh $indir/$R1
  echo &quot;## R2 input file:&quot;
  ls -lh $indir/$R2

  # First trim:
  echo -e &quot;\n\n## Running cutadapt for the first trim:&quot;
    
    cutadapt -g GAGTGYCAGCMGCCGCGGTAA -G ACGGACTACNVGGGTWTCTAAT \
      --discard-untrimmed --pair-filter=any \
      -o $outdir_trim1/$R1 -p $outdir_trim1/$R2 \
      $indir/$R1 $indir/$R2
    
    # Second trim:
  echo -e &quot;\n\n## Running cutadapt for the second trim:&quot;
    
    cutadapt -a ATTAGAWACCCBNGTAGTCCGT -A TTACCGCGGCKGCTGRCACTC \
      -o $outdir_trim2/$R1 -p $outdir_trim2/$R2 \
      $outdir_trim1/$R1 $outdir_trim1/$R2

done

# REPORT AND FINALIZE --------------------------------------------------------
echo -e &quot;\n\n## Listing output files - first trim:&quot;
ls -lh $outdir_trim1

echo -e &quot;\n\n## Listing output files - second trim:&quot;
ls -lh $outdir_trim1

echo -e &quot;\n\n## Done with cutadapt script.&quot;
date</code></pre>
</details>
<hr />
</div>
</div>
<div id="submit-the-script" class="section level2">
<h2>Submit the Script</h2>
<p>We’ll first check whether we are in the correct directory, so that our relative paths will work:</p>
<pre class="bash"><code># Let&#39;s check we are in the correct directory:
pwd
# Should return: /fs/project/PAS0471/workshops/2020-12_micro/&lt;your-username&gt;
# If not, run: &quot;cd /fs/project/PAS0471/workshops/2020-12_micro/$USER&quot;</code></pre>
<p><br></p>
<p>Then we assign our input directory and base output directory to the variables <code>indir</code> and <code>outdir_base</code>, respectively.</p>
<p>We’ll also assign the name we want to give to the <em>SLURM</em> log file to a variable. Here, we’ll also use the <code>%j</code> <em>SLURM</em> keyword to include the <em>SLURM</em> job number.</p>
<pre class="bash"><code>indir=data/raw/fastq_subsample
outdir_base=data/processed/fastq_trimmed

# Give a name to the SLURM output file:
# (The -o flag sets the SLURM log file name, and `%j` represents the job ID)
slurm_file=slurm-cutadapt-$USER-%j.out</code></pre>
<p><br></p>
<p>Finally, we’re ready to <strong>submit the script</strong>!</p>
<pre class="sh"><code>sbatch -o $slurm_file scripts/01-cutadapt.sh $indir $outdir_base</code></pre>
<hr />
</div>
<div id="monitor-the-job-and-its-output" class="section level2">
<h2>Monitor the Job and Its Output</h2>
<div id="monitor-the-job" class="section level3">
<h3>Monitor the job</h3>
<p>We can check what’s going on with our job using <code>squeue</code>:</p>
<pre class="bash"><code># Initially the job may be queued (`PD` in the `ST` column):
squeue -u $USER
# JOBID PARTITION     NAME     USER ST       TIME  NODES NODELIST(REASON) 
# 2451088 serial-40 01-cutad   jelmer PD       0:00      1 (None) 

# Then the job should be running:
squeue -u $USER
# JOBID PARTITION     NAME     USER ST       TIME  NODES NODELIST(REASON) 
# 2451088 serial-40 01-cutad   jelmer R       0:43      1 (None) 

# When the job has finished, squeue will return nothing:
squeue -u $USER
# JOBID PARTITION     NAME     USER ST       TIME  NODES NODELIST(REASON) 
</code></pre>
<p><br></p>
<p>We could also get more statistics about our job using <code>scontrol</code>:</p>
<pre class="bash"><code>scontrol show job 2451088   # Replace the number with your JOBID</code></pre>
</div>
<div id="check-the-output" class="section level3">
<h3>Check the output</h3>
<p>Let’s see if we have a log file:</p>
<pre class="bash"><code>ls slurm*$USER*
# slurm-cutadapt-jelmer-2451088.out</code></pre>
<p>Let’s look at the start of the <em>SLURM</em> log file:</p>
<pre class="bash"><code>head -n 20 slurm-cutadapt-jelmer-2451088.out

# ## Starting cutadapt script.
# Fri Dec 11 10:03:00 EST 2020
# ## Input dir:                 data/raw/fastq/
# ## Output dir - first trim:   data/processed/fastq_trimmed/first_trim
# ## Input dir - second trim:   data/processed/fastq_trimmed/first_trim
# 
# ## Looping through input files...
# 
# ## R1 input file:
# -r--r--r-- 1 jelmer PAS0471 7.4M Dec  11 08:27 data/raw/fastq_subsample/201-S4-V4-V5_S53_L001_R1_001.fastq.gz
# ## R2 input file:
# -r--r--r-- 1 jelmer PAS0471 8.8M Dec  11 08:27 data/raw/fastq_subsample/201-S4-V4-V5_S53_L001_R2_001.fastq.gz
# 
# 
# ## Running cutadapt for the first trim:
# This is cutadapt 3.1 with Python 3.8.6
# Command line parameters: -g GAGTGYCAGCMGCCGCGGTAA -G ACGGACTACNVGGGTWTCTAAT --discard-untrimmed --pair-filter=any -o data/processed/fastq_trimmed/first_trim/201-S4-V4-V5_S53_L001_R1_001.fastq.gz -p data/processed/fastq_trimmed/first_trim/201-S4-V4-V5_S53_L001_R2_001.fastq.gz data/raw/fastq_subsample/201-S4-V4-V5_S53_L001_R1_001.fastq.gz data/raw/fastq/201-S4-V4-V5_S53_L001_R2_001.fastq.gz
# Processing reads on 1 core in paired-end mode ...</code></pre>
<p>Let’s also look at the end of the file:</p>
<pre class="bash"><code>tail slurm-cutadapt-jelmer-2451088.out

# -rw-rw-r-- 1 jelmer PAS0471 1.1M Dec  8 08:13 blankM-V4-V5_S73_L001_R1_001.fastq.gz
# -rw-rw-r-- 1 jelmer PAS0471 1.4M Dec  8 08:13 blankM-V4-V5_S73_L001_R2_001.fastq.gz
# -rw-rw-r-- 1 jelmer PAS0471  56K Dec  8 08:13 H20-V4-V5_S88_L001_R1_001.fastq.gz
# -rw-rw-r-- 1 jelmer PAS0471  66K Dec  8 08:13 H20-V4-V5_S88_L001_R2_001.fastq.gz
# -rw-rw-r-- 1 jelmer PAS0471 3.8M Dec  8 08:13 Zymo-V4-V5_S82_L001_R1_001.fastq.gz
# -rw-rw-r-- 1 jelmer PAS0471 4.4M Dec  8 08:13 Zymo-V4-V5_S82_L001_R2_001.fastq.gz
# 
# 
# ## Done with cutadapt script.
# Wed Dec  9 12:46:33 EST 2020</code></pre>
<p><br></p>
<p>Finally, we can directly check one of the output dirs:</p>
<pre class="bash"><code>ls -lh data/processed/fastq_trimmed/second_trim/

# total 474M
# -rw-rw-r-- 1 jelmer PAS0471 7.8M Dec  8 08:09 101-S1-V4-V5_S1_L001_R1_001.fastq.gz
# -rw-rw-r-- 1 jelmer PAS0471 9.8M Dec  8 08:09 101-S1-V4-V5_S1_L001_R2_001.fastq.gz
# -rw-rw-r-- 1 jelmer PAS0471 9.6M Dec  8 08:09 101-S4-V4-V5_S49_L001_R1_001.fastq.gz
# -rw-rw-r-- 1 jelmer PAS0471  13M Dec  8 08:09 101-S4-V4-V5_S49_L001_R2_001.fastq.gz
# -rw-rw-r-- 1 jelmer PAS0471 6.8M Dec  8 08:09 102-S4-V4-V5_S50_L001_R1_001.fastq.gz
# -rw-rw-r-- 1 jelmer PAS0471 8.3M Dec  8 08:09 102-S4-V4-V5_S50_L001_R2_001.fastq.gz
# -rw-rw-r-- 1 jelmer PAS0471 6.2M Dec  8 08:09 103-S4-V4-V5_S51_L001_R1_001.fastq.gz
# -rw-rw-r-- 1 jelmer PAS0471 7.8M Dec  8 08:09 103-S4-V4-V5_S51_L001_R2_001.fastq.gz
# ....[other files not shown]
</code></pre>
<p><br></p>
<p>All done! Our <a href="07-ASV-inference.html">next step</a> will be to further process the <code>fastq</code> files with <code>cutadapt</code>.</p>
<p><br> <br> <br></p>
</div>
</div>

<div id="rmd-source-code">LS0tCnRpdGxlOiAiPGJyPldvcmtmbG93IHBhcnQgSTo8YnI+UHJpbWVyIGFuZCBBZGFwdGVyIFJlbW92YWwiCm91dHB1dDoKICBybWFya2Rvd246Omh0bWxfZG9jdW1lbnQ6CiAgICBjb2RlX2Rvd25sb2FkOiB0cnVlCiAgICB0aGVtZTogY2VydWxlYW4KICAgIHRvYzogdHJ1ZQogICAgdG9jX2Zsb2F0OiB0cnVlCiAgICBjc3M6IG15LmNzcwotLS0KCjxicj4KCmBgYHtyIGtuaXRyX29wdGlvbnMsIGVjaG89RkFMU0V9CmtuaXRyOjpvcHRzX2NodW5rJHNldChldmFsID0gRkFMU0UpCmBgYAogCi0tLS0tCgojIyBHb2FscwoKLSBSZW1vdmUgcHJpbWVycyBhbmQgYWRhcHRlcnMgZnJvbSBvdXIgc2VxdWVuY2VzLgotIFdoaWxlIGRvaW5nIHNvLCB3ZSdsbCBsZWFybjoKICAtIEhvdyB0byBsb2FkIGEgYGNvbmRhYCBlbnZpcm9ubWVudC4KICAtIFNvbWUgYmFzaWNzIG9mIHdyaXRpbmcgYSBzaGVsbCBzY3JpcHQuCiAgLSBIb3cgdG8gcnVuIGBjdXRhZGFwdGAuCiAgLSBIb3cgdG8gc3VibWl0IGFuZCBtb25pdG9yIGEgam9iIHdpdGggdGhlICpTTFVSTSogc2NoZWR1bGVyLiAKCi0tLS0tCgojIyBCZWZvcmUgV2UgR2V0IFN0YXJ0ZWQKCiMjIyBOb3RlcwoKLSBZb3UgY2FuIGRvd25sb2FkIHRoaXMgYFJtZGAgKFIgTWFya2Rvd24pIGZpbGUgYnkgY2xpY2tpbmcgdGhlIGBDb2RlYCBidXR0b24gaW4KICB0aGUgdG9wLXJpZ2h0IG9mIHRoaXMgcGFnZS4KICBUbyBjb252ZXJ0IGFuIGBSbWRgIGZpbGUgdG8gYW4gUiBzY3JpcHQsCiAgdHlwZSB0aGUgZm9sbG93aW5nIGluIGFuIFIgY29uc29sZTogYGtuaXRyOjpwdXJsKGlucHV0PSI8ZmlsZW5hbWU+LlJtZCIpYC4KCiMjIyBTZXR1cAoKLSBMb2dpbiB0byBPU0MgYXQgPGh0dHBzOi8vb25kZW1hbmQub3NjLmVkdT4uCgotIEVudGVyIGEgdGVybWluYWwgaW4geW91ciBicm93c2VyIGF0IE9TQyBieSBjbGlja2luZyBgQ2x1c3RlcmAgPiBgUGl0emVyIFNoZWxsIEFjY2Vzc2AuCiAgKE9yIHVzZSBbdGhpcyBkaXJlY3QgbGlua10oaHR0cHM6Ly9vbmRlbWFuZC5vc2MuZWR1L3B1bi9zeXMvc2hlbGwvc3NoL3BpdHplci5vc2MuZWR1KS4pCgotIEdvIHRvIHRoaXMgeW91ciBkaXJlY3RvcnkgZm9yIHRoaXMgd29ya3Nob3AgYXQgT1NDOgoKICBgYGBzaAogIGNkIC9mcy9wcm9qZWN0L1BBUzA0NzEvd29ya3Nob3BzLzIwMjAtMTJfbWljcm8vJFVTRVIKICBgYGAKCi0tLS0tCgojIyBHZXR0aW5nIFN0YXJ0ZWQKCltgY3V0YWRhcHRgXShodHRwczovL2N1dGFkYXB0LnJlYWR0aGVkb2NzLmlvL2VuL3N0YWJsZS9pbmRleC5odG1sKSBpcyBhIHNvZnR3YXJlCnBhY2thZ2UgdG8gcmVtb3ZlIGFueSBhZGFwdGVycyBhbmQgcHJpbWVycyB0aGF0IG1heSBiZSBwcmVzZW50IGluIHJhdyBzZXF1ZW5jZSBkYXRhLgoKV2Ugd2lsbCB1c2UgdGhlIG91dHB1dCBmcm9tIGBjdXRhZGFwdGAgYXMgaW5wdXQgZm9yIHRoZSBuZXh0IHN0ZXAgaW4gb3VyIHdvcmtmbG93LApbQVNWIEluZmVyZXJlbmNlIGFuZCBUYXhvbiBBc3NpZ25tZW50XSgwNy1BU1YtaW5mZXJlbmNlLmh0bWwpLgoKCiMjIyBQcmltZXJzCgpUaGVzZSBhcmUgdGhlIHByaW1lcnMgdGhhdCB3ZXJlIHVzZWQgaW4gdGhpcyBhbXBsaWNvbiBzZXF1ZW5jaW5nLgp3ZSB3YW50IHRvIHJlbW92ZToKCi0gNTE1RjogKkdBR1RHWUNBR0NNR0NDR0NHR1RBQSoKLSA4MDZSOiAqQUNHR0FDVEFDTlZHR0dUV1RDVEFBVCoKLSA1MTVGIHJldmVyc2UgY29tcGxlbWVudDogKlRUQUNDR0NHR0NLR0NUR1JDQUNUQyoKLSA4MDZSIHJldmVyc2UgY29tcGxlbWVudDogKkFUVEFHQVdBQ0NDQk5HVEFHVENDR1QqCgpXZSB3aWxsIHNwZWNpZnkgdGhlc2UgcHJpbWVycyB3aGVuIHJ1bm5pbmcgYGN1dGFkYXB0YC4KCiMjIyBMb2FkIHRoZSBgY29uZGFgIGVudmlyb25tZW50IHdpdGggYGN1dGFkYXB0YCAKCmBjdXRhZGFwdGAgaXMgbm90IGF2YWlsYWJsZSBhcyBhIG1vZHVsZSBhdCBPU0MuCkhvd2V2ZXIsIGl0IGNhbiBiZSBlYXNpbHkgaW5zdGFsbGVkIHRoZXJlIHRocm91Z2ggYGNvbmRhYCwKc2VlIHRoaXMgW3dlYnBhZ2VdKGh0dHBzOi8vY3V0YWRhcHQucmVhZHRoZWRvY3MuaW8vZW4vc3RhYmxlL2luc3RhbGxhdGlvbi5odG1sI2luc3RhbGxhdGlvbi13aXRoLWNvbmRhKS4gICAKV2UgaGF2ZSBhbHJlYWR5IGRvbmUgdGhpcyBmb3IgeW91IHRvIHNhdmUgc29tZSB0aW1lLApzbyB3ZSBqdXN0IG5lZWQgdG8gbG9hZCB0aGUgYGNvbmRhYCBlbnZpcm9ubWVudC4KClRvIHdvcmsgd2l0aCBgY29uZGFgIGF0IE9TQywgd2UgZmlyc3QgbmVlZCB0byBsb2FkIHRoZSBgY29uZGFgIG1vZHVsZToKCmBgYHNoCm1vZHVsZSBsb2FkIHB5dGhvbi8zLjYtY29uZGE1LjIKYGBgCgpBc3N1bWluZyB0aGF0IHlvdSBoYXZlbid0IHdvcmtlZCB3aXRoIGNvbmRhIGJlZm9yZSBhdCBPU0MsCndlIGFsc28gbmVlZCB0byBhIGJpdCBvZiBhZGRpdGlvbmFsIHNldHVwOgoKYGBge2Jhc2h9CiMgVGhpcyB3aWxsIGFkZCBhIGxpbmUgdG8geW91ciBiYXNoIGNvbmZpZyBmaWxlLCB3aGljaCBydW5zIGV2ZXJ5IHRpbWUgeW91IHN0YXJ0CiMgYSBzaGVsbCwgdG8gcnVuIHRoZSBjb25kYSBzZXR1cCBzY3JpcHQ6CmVjaG8gIi4gL2FwcHMvcHl0aG9uLzMuNi1jb25kYTUuMi9ldGMvcHJvZmlsZS5kL2NvbmRhLnNoIiA+PiB+Ly5iYXNocmMKCiMgTmV4dCwgd2Ugc291cmNlIChydW4pIHRoZSBjb25maWcgZmlsZSBpbiBvdXIgY3VycmVudCBzaGVsbCB0byBhbHNvIHJ1biB0aGUgY29uZGEKIyBzZXR1cCBzY3JpcHQgcmlnaHQgbm93Ogpzb3VyY2Ugfi8uYmFzaHJjCmBgYAoKVGhlbiwgd2UgYWN0aXZhdGUgb3VyIGBjb25kYWAgZW52aXJvbm1lbnQgZm9yIGBjdXRhZGFwdGA6CgpgYGB7YmFzaH0KY29uZGEgYWN0aXZhdGUgL3VzZXJzL1BBUzA0NzEvb3N1NTY4NS8uY29uZGEvZW52cy9jdXRhZGFwdGVudgpgYGAKCjxicj4KCk5vdywgYGN1dGFkYXB0YCBzaG91bGQgYmUgaW4gYCRQQVRIYCwgaS5lLiB3ZSBjYW4gc2ltcGx5IGNhbGwgaXQgYnkgaXRzIG5hbWUgdG8gcnVuIGl0LgpUbyB0ZXN0IHRoaXM6CgpgYGB7YmFzaH0KY3V0YWRhcHQgLS12ZXJzaW9uICAgICAjIFdpbGwganVzdCBwcmludCB0aGUgdmVyc2lvbiBudW1iZXIKY3V0YWRhcHQgLS1oZWxwICAgICAgICAjIFdpbGwgcHJpbnQgYSB3aG9sZSBsb3Qgb2YgZG9jdW1lbnRhdGlvbgpgYGAKCgotLS0tLQoKIyMgQSBTY3JpcHQgdG8gUnVuIGBjdXRhZGFwdGAKCiMjIyBQYXJ0IEE6IEJvaWxlcnBsYXRlIGFuZCAqU0xVUk0qIGRpcmVjdGl2ZXMKCjEuIE91ciBmaXJzdCBsaW5lLCBgIyEvYmluL2Jhc2hgLCBpcyB0aGUgKiJzaGViYW5nIiogbGluZSB0aGF0IHRlbGxzIHVzIHdoYXQKICBwcm9ncmFtIChsYW5ndWFnZSkgb3VyIHNjcmlwdCB1c2VzLCB3aGljaCBpcyBgYmFzaGAgaW4gdGhpcyBjYXNlLgoKMi4gV2UnbGwgcHJvdmlkZSB0aGUgYFNMVVJNYCBkaXJlY3RpdmVzIG9uZSBsaW5lIGF0IGEgdGltZSwKICB1c2luZyB0aGUgYCNTQkFUQ0hgIGtleXdvcmQgZm9sbG93ZWQgYnkgYW4gb3B0aW9uOiBgbm9kZXNgIGZvciB0aGUgbnVtYmVyIG9mCiAgbm9kZXMsIGBudGFza3MtcGVyLW5vZGVgIGZvciB0aGUgbnVtYmVyIG9mIGNvcmVzLCBgdGltZWAgZm9yIHRoZSBtYXhpbXVtCiAgd2FsbHRpbWUgb2YgdGhlIGpvYiAoaGVyZSBzcGVjaWZpY2VkIHVzaW5nIGp1c3QgbWludXRlcyksIGFuZCBgYWNjb3VudGAgZm9yCiAgdGhlIE9TQyBwcm9qZWN0IHRoYXQgc2hvdWxkIGJlIGJpbGxlZC4KCjMuIFdlJ2xsIHNldCBhIGNvdXBsZSBvZiBvcHRpb25zIHdpdGggYHNldGAgdGhhdCBtYWtlIGBiYXNoYCBydW4gc2FmZXIsCiAgYnkgbWFraW5nIGl0IHN0b3AgdGhlIHNjcmlwdCB3aGVuZXZlciBhbiBlcnJvciBpcyBlbmNvdW50ZXJlZCAoYnkgZGVmYXVsdCwKICB0aGUgc2NyaXB0IHdpbGwga2VlcCBydW5uaW5nLikKCjQuIFdlJ2xsIHVzZSBhbiBgZWNob2Agc3RhdGVtZW50IHRvIHByaW50IHRvIHNjcmVlbiB3aGF0IHNjcmlwdCB3ZSBhcmUKICBydW5uaW5nLCBhbmQgdGhlIGBkYXRlYCBjb21tYW5kIHRvIGtlZXAgdHJhY2sgb2YgdGhlIHNjcmlwdCdzIHJ1bnRpbWUuCiAgKFRoZSBgLWVgIG9wdGlvbiB0byBgZWNob2AgYWxsb3dzIHVzIHRvIHByaW50IG5ld2xpbmVzIHVzaW5nIGBcbmApLgoKYGBge2Jhc2h9CiMhL2Jpbi9iYXNoICAgICAgICAgICAgICAgICAgICMgMS4gRmlyc3QgbGluZSBzaG91bGQgYmUgdGhlIHNoZWJhbmcgbGluZQojU0JBVENIIC0tbm9kZXM9MSAgICAgICAgICAgICAjIDIuIFByb3ZpZGUgc2JhdGNoIGRpcmVjdGl2ZXMKI1NCQVRDSCAtLW50YXNrcy1wZXItbm9kZT0xCiNTQkFUQ0ggLS10aW1lPTYwCiNTQkFUQ0ggLS1hY2NvdW50PVBBUzA0NzEKCiMgMy4gUnVuIGJhc2ggaW4gInNhZmUgbW9kZSIsIGJhc2ljYWxseQpzZXQgLWUgLXUgLW8gcGlwZWZhaWwgICAgCgojIDQuIFJlcG9ydDoKZWNobyAtZSAiXG4jIyBTdGFydGluZyBjdXRhZGFwdCBzY3JpcHQuIgpkYXRlCmBgYAoKIyMjIFBhcnQgQjogUGFyc2UgYXJndW1lbnRzIGFuZCBzZXQgdXAgZGlyZWN0b3JpZXMKCjEuIFNvLWNhbGxlZCAicG9zaXRpb25hbCIgYXJndW1lbnRzIHRoYXQgYXJlIHBhc3NlZCBvbnRvIGEgc2NyaXB0IHVzaW5nIHRoZQogICBzeW50YXggYC4vc2NyaXB0LnNoIGFyZzEgYXJnMmAgYXJlIHJlcHJlc2VudGVkIGluc2lkZSBhIHNjcmlwdCBhcyB0aGUKICAgdmFyaWFibGVzIGAkMWAsIGAkMmAsIGV0Yy4gRmlyc3QsIHdlIHdpbGwgZ2l2ZSB0aGVzZSB2YXJpYWJsZXMgYSBtb3JlCiAgIGluZm9ybWF0aXZlIG5hbWUuCgoyLiBXZSdsbCBkZWZpbmUgdGhlIHR3byBzZXBhcmF0ZSBkaXJzIHdlJ2xsIGhhdmUgZm9yIHRoZSBmaXJzdCBhbmQKICAgc2Vjb25kIHJvdW5kIG9mIHRyaW1taW5nIHRoYXQgd2UnbGwgZG8gYnkgZXh0ZW5kaW5nIHRoZSAiYmFzZSIgb3V0cHV0IGRpci4KCjMuIFdlJ2xsIGNyZWF0ZSB0aGUgb3V0cHV0IGRpcmVjdG9yaWVzIGlmIHRoZXkgZG9uJ3QgYWxyZWFkeSBleGlzdC4KICAgVXNpbmcgdGhlIGAtcGAgb3B0aW9uLCBgbWtkaXJgIGNhbiBjcmVhdGUgbXVsdGlwbGUgbGV2ZWxzIGF0IG9uY2UsCiAgIGFuZCB3aWxsIG5vdCBjb21wbGFpbiBpZiB0aGUgZGlyKHMpIGFscmVhZHkgZXhpc3QuCgo0LiBXZSdsbCByZXBvcnQgdGhlIGRpcmVjdG9yeSB2YXJpYWJsZXMgdG8gc2NyZWVuLAogICB3aGljaCB3aWxsIGJlIGhlbHBmdWwgZS5nLiBpZiB3ZSdkIG5lZWQgdG8gZGVidWcgb3VyIHNjcmlwdC4KCgpgYGB7YmFzaH0KIyBTRVRVUCAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQojIDEuIENvbW1hbmQtbGluZSBhcmd1bWVudHM6CmluZGlyPSQxCm91dGRpcl9iYXNlPSQyCgojIDIuIERlZmluZSBvdXRwdXQgZGlyZWN0b3JpZXMgZm9yIGZpcnN0IGFuZCBzZWNvbmQgdHJpbToKb3V0ZGlyX3RyaW0xPSRvdXRkaXJfYmFzZS9maXJzdF90cmltCm91dGRpcl90cmltMj0kb3V0ZGlyX2Jhc2Uvc2Vjb25kX3RyaW0KCiMgMy4gQ3JlYXRlIG91dHB1dCBkaXJlY3RvcmllcyBpZiB0aGV5IGRvbid0IGFscmVhZHkgZXhpc3Q6Cm1rZGlyIC1wICRvdXRkaXJfdHJpbTEKbWtkaXIgLXAgJG91dGRpcl90cmltMgoKIyA0LiBSZXBvcnQ6CmVjaG8gIiMjIElucHV0IGRpcjogICAgICAgICAgICAgICAgICRpbmRpciIKZWNobyAiIyMgT3V0cHV0IGRpciAtIGZpcnN0IHRyaW06ICAgJG91dGRpcl90cmltMSIKZWNobyAiIyMgSW5wdXQgZGlyIC0gc2Vjb25kIHRyaW06ICAgJG91dGRpcl90cmltMSIKYGBgCgojIyMgUGFydCBDOiBMb29wIHRocm91Z2ggYGZhc3RxYCBmaWxlcyBhbmQgcnVuIGBjdXRhZGFwdGAgZm9yIGVhY2ggcGFpcjoKCldlIHdpbGwgcnVuIGBjdXRhZGFwdGAgc2VwYXJhdGVseSBmb3IgZWFjaCBzYW1wbGUsIHVzaW5nIGEgYGZvcmAgbG9vcCB0byBjeWNsZQp0aHJvdWdoIGFsbCB0aGUgZmlsZXMuClRoaXMgaXMgbWFkZSBhIGxpdHRsZSBtb3JlIGNvbXBsaWNhdGVkIGJlY2F1c2Ugd2UgaGF2ZSAqKnR3byBmaWxlcyoqIGZvciBlYWNoIHNhbXBsZToKb25lIHdpdGggZm9yd2FyZHMgcmVhZHMgKHdoaWNoIGhhcyAiUjEiIGluIGl0cyBmaWxlbmFtZSkKYW5kIG9uZSB3aXRoIHJldmVyc2UgcmVhZHMgKCJSMiIpLgoKMS4gV2UnbGwgaW5pdGlhbGl6ZSB0aGUgYGZvcmAgbG9vcCwgd2hpY2ggaXMgZG9uZSB1c2luZyBgZm9yIFggaW4gWFlaYCBzeW50YXguCiAgIFdoYXQgd2UnbGwgbG9vcCBvdmVyIChYWVogYWJvdmUpIGFyZSBhbGwgdGhlICJSMSIgZmFzdHEgZmlsZXMsCiAgIGkuZS4gdGhlIG9uZXMgd2l0aCB0aGUgZm9yd2FyZCByZWFkcy4KICAgV2UgbGlzdCBhbGwgb2YgdGhvc2UgYnkgdGFraW5nIGFkdmFudGFnZSBvZiB0aGUgYCpgIHdpbGRjYXJkLgoKMi4gTm93LCBgJFIxYCAoZGVmaW5lZCB1c2luZyBgUjFgIGluIHRoZSBsb29wIGluaXRpYXRpb24gbGluZSkgY29udGFpbnMsCiAgIGluIGVhY2ggcmVuZGl0aW9uIG9mIHRoZSBsb29wLCBhIHNpbmdsZSBmaWxlIG5hbWUuCiAgIEJlY2F1c2UgaXQgYWxzbyBjb250YWlucyB0aGUgZGlyIG5hbWUsIHdlIHdpbGwgZXh0cmFjdCB0aGUgZmlsZSBuYW1lIG9ubHkKICAgdXNpbmcgdGhlIGBiYXNlbmFtZSBjb21tYW5kYC4KICAgVGhlIGAkKClgIG5vdGF0aW9uIGlzIGNhbGxlZCBjb21tYW5kIHN1YnN0aXR1dGlvbiwKICAgYW5kIHNpbXBseSBhbGxvd3MgdXMgdG8gYXNzaWduIHRoZSBvdXRwdXQgb2YgYSBjb21tYW5kIHRvIGEgdmFyaWFibGUuCiAgIAozLiBUbyBnZXQgdGhlIGNvcnJlc3BvbmRpbmcgZmlsZSB3aXRoIHJldmVyc2UgcmVhZHMsIHdoaWNoIHNob3VsZCBhbHdheXMKICAgaGF2ZSB0aGUgZXhhY3Qgc2FtZSBuYW1lIGV4Y2VwdCB0aGF0IGl0IGNvbnRhaW5zICJSMiIgcmF0aGVyIHRoYW4gIlIxIiwKICAgd2Ugc2ltcGx5IHN1YnN0aXR1dGUgIlIxIiBieSAiUjIiIGluIHRoZSBmaWxlIG5hbWUgdXNpbmcgYSBsaXR0bGUgdHJpY2sKICAgd2l0aCB0aGUgc3ludGF4IGAke3ZhcmlhYmxlX25hbWUvcGF0dGVybi9yZXBsYWNlbWVudH1gLgoKNC4gVG8gbWFrZSBzdXJlIGFsbCBpcyB3ZWxsLCB3ZSBsaXN0IHRoZSBSMSBhbmQgUjIgaW5wdXQgZmlsZXMuCgo1LiBOb3csIHdlJ2xsIGRvIHRoZSBmaXJzdCByb3VuZCBvZiB0cmltbWluZyB1c2luZyB0aGUgZm9yd2FyZCAqcHJpbWVyKiBzZXF1ZW5jZXMuCiAgIFdlIHVzZSBgXGAganVzdCB0byBhbGxvdyB0aGUgY29tbWFuZCB0byBjb250aW51ZSBhY3Jvc3MgbXVsdGlwbGUgbGluZXMgZm9yCiAgIGVhc3kgb2YgcmVhZGluZyAodGhlIGBcYCAiZXNjYXBlcyIgdGhlIHJldHVybi9uZXdsaW5lKS4KCjYuIFdlJ2xsIGRvIHRoZSBzZWNvbmQgcm91bmQgb2YgdHJpbW1pbmcgdXNpbmcgdGhlIHJldmVyc2UgKnByaW1lciogc2VxdWVuY2VzLgoKNy4gV2UgdGVsbCB0aGUgbG9vcCB0aGF0IGlzIGRvbmUgdXNpbmcgYGRvbmVgLgoKYGBge2Jhc2h9CiMgUlVOIENVVEFEQVBUIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCiMgMS4gSW5pdGlhbGl6ZSB0aGUgbG9vcDoKZm9yIFIxIGluICRpbmRpci8qX1IxXyouZmFzdHEuZ3oKZG8KICAjIDIuIEdldCB0aGUgZmlsZW5hbWVzIGZvciB0aGUgZmFzdHEgZmlsZXMgd2l0aCBmb3J3YXJkIChSMSkgYW5kIHJldmVyc2UgKFIyKSByZWFkczoKICBSMT0kKGJhc2VuYW1lICRSMSkgICAjIGBiYXNlbmFtZWAgd2lsbCBzdHJpcCB0aGUgZGlyZWN0b3J5IGZyb20gdGhlIG5hbWUKICAKICAjIDMuIAogIFIyPSR7UjEvX1IxXy9fUjJffSAgICMgVGhpcyB3aWxsIHN1YnN0aXR1dGUgIl9SMV8iIHdpdGggIl9SMl8iIGluIHRoZSBmaWxlbmFtZS4KICAKICAjIDQuIFJlcG9ydCBpbnB1dCBmaWxlczoKICBlY2hvICIjIyBSMSBpbnB1dCBmaWxlOiIKICBscyAtbGggJGluZGlyLyRSMQogIGVjaG8gIiMjIFIyIGlucHV0IGZpbGU6IgogIGxzIC1saCAkaW5kaXIvJFIyCgogICMgNS4gRmlyc3QgdHJpbToKICBlY2hvIC1lICJcblxuIyMgUnVubmluZyBjdXRhZGFwdCBmb3IgdGhlIGZpcnN0IHRyaW06IgoJCgljdXRhZGFwdCAtZyBHQUdUR1lDQUdDTUdDQ0dDR0dUQUEgLUcgQUNHR0FDVEFDTlZHR0dUV1RDVEFBVCBcCgktLWRpc2NhcmQtdW50cmltbWVkIC0tcGFpci1maWx0ZXI9YW55IFwKCS1vICRvdXRkaXJfdHJpbTEvJFIxIC1wICRvdXRkaXJfdHJpbTEvJFIyIFwKCSRpbmRpci8kUjEgJGluZGlyLyRSMgoJCgkjIDYuIFNlY29uZCB0cmltOgogIGVjaG8gLWUgIlxuXG4jIyBSdW5uaW5nIGN1dGFkYXB0IGZvciB0aGUgc2Vjb25kIHRyaW06IgoJCgljdXRhZGFwdCAtYSBBVFRBR0FXQUNDQ0JOR1RBR1RDQ0dUIC1BIFRUQUNDR0NHR0NLR0NUR1JDQUNUQyBcCgktbyAkb3V0ZGlyX3RyaW0yLyRSMSAtcCAkb3V0ZGlyX3RyaW0yLyRSMiBcCgkkb3V0ZGlyX3RyaW0xLyRSMSAkb3V0ZGlyX3RyaW0xLyRSMgogIAogICMgNy4gRXhpdCB0aGUgbG9vcCB1c2luZyB0aGUgYGRvbmVgIGtleXdvcmQKZG9uZQpgYGAKCiMjIyBQYXJ0IEQ6IExpc3Qgb3V0cHV0IGZpbGVzIGFzIGEgY2hlY2s6CgpGaW5hbGx5LCB3ZSdsbCBsaXN0IG91ciBvdXRwdXQgZmlsZXMsIGFzIGFub3RoZXIgd2F5IHRvIGNoZWNrIHdoZXRoZXIgdGhlIHNjcmlwdApoYXMgcnVuIGFzIGl0IHdhcyBzdXBwb3NlZCwgYW5kIHdlJ2xsIGFsc28gcHJpbnQgdGhlIGBkYXRlYCBhZ2FpbiB0byBjaGVjawp0aGUgKGRhdGUgYW5kKSB0aW1lIHRoYXQgb3VyIHNjcmlwdCBmaW5pc2hlZCBydW5uaW5nLgoKYGBge2Jhc2h9CiMgUkVQT1JUIEFORCBGSU5BTElaRSAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQplY2hvIC1lICJcblxuIyMgTGlzdGluZyBvdXRwdXQgZmlsZXMgLSBmaXJzdCB0cmltOiIKbHMgLWxoICRvdXRkaXJfdHJpbTEKCmVjaG8gLWUgIlxuXG4jIyBMaXN0aW5nIG91dHB1dCBmaWxlcyAtIHNlY29uZCB0cmltOiIKbHMgLWxoICRvdXRkaXJfdHJpbTEKCmVjaG8gLWUgIlxuXG4jIyBEb25lIHdpdGggY3V0YWRhcHQgc2NyaXB0LiIKZGF0ZQpgYGAKCiMjIyBUaGUgZW50aXJlIHNjcmlwdAoKPGRldGFpbHM+CjxzdW1tYXJ5PgpDbGljayBoZXJlIHRvIHNlZSB0aGUgZW50aXJlIHNjcmlwdC4KPC9zdW1tYXJ5PgoKYGBgc2gKIyEvYmluL2Jhc2gKI1NCQVRDSCAtLW5vZGVzPTEKI1NCQVRDSCAtLW50YXNrcy1wZXItbm9kZT0xCiNTQkFUQ0ggLS10aW1lPTYwCiNTQkFUQ0ggLS1hY2NvdW50PVBBUzA0NzEKCnNldCAtZSAtdSAtbyBwaXBlZmFpbCAgICAjIFJ1biBiYXNoIGluICJzYWZlIG1vZGUiLCBiYXNpY2FsbHkKCiMgUmVwb3J0OgplY2hvIC1lICJcbiMjIFN0YXJ0aW5nIGN1dGFkYXB0IHNjcmlwdC4iCmRhdGUKCiMgU0VUVVAgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KIyBDb21tYW5kLWxpbmUgYXJndW1lbnRzOgppbmRpcj0kMQpvdXRkaXJfYmFzZT0kMgoKIyBEZWZpbmUgb3V0cHV0IGRpcmVjdG9yaWVzIGZvciBmaXJzdCBhbmQgc2Vjb25kIHRyaW06Cm91dGRpcl90cmltMT0kb3V0ZGlyX2Jhc2UvZmlyc3RfdHJpbQpvdXRkaXJfdHJpbTI9JG91dGRpcl9iYXNlL3NlY29uZF90cmltCgojIENyZWF0ZSBvdXRwdXQgZGlyZWN0b3JpZXMgaWYgdGhleSBkb24ndCBhbHJlYWR5IGV4aXN0Ogpta2RpciAtcCAkb3V0ZGlyX3RyaW0xCm1rZGlyIC1wICRvdXRkaXJfdHJpbTIKCiMgUmVwb3J0OgplY2hvICIjIyBJbnB1dCBkaXI6ICAgICAgICAgICAgICAgICAkaW5kaXIiCmVjaG8gIiMjIE90cHV0IGRpciAtIGZpcnN0IHRyaW06ICAgICRvdXRkaXJfdHJpbTEiCmVjaG8gIiMjIElucHV0IGRpciAtIHNlY29uZCB0cmltOiAgICRvdXRkaXJfdHJpbTEiCgojIFJVTiBDVVRBREFQVCAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQplY2hvIC1lICJcbiMjIExvb3BpbmcgdGhyb3VnaCBpbnB1dCBmaWxlcy4uLlxuIgoKZm9yIFIxIGluICRpbmRpci8qX1IxXyouZmFzdHEuZ3oKZG8KICBSMT0kKGJhc2VuYW1lICRSMSkKICBSMj0ke1IxL19SMV8vX1IyX30KICAKICAjIFJlcG9ydCBpbnB1dCBmaWxlczoKICBlY2hvICIjIyBSMSBpbnB1dCBmaWxlOiIKICBscyAtbGggJGluZGlyLyRSMQogIGVjaG8gIiMjIFIyIGlucHV0IGZpbGU6IgogIGxzIC1saCAkaW5kaXIvJFIyCgogICMgRmlyc3QgdHJpbToKICBlY2hvIC1lICJcblxuIyMgUnVubmluZyBjdXRhZGFwdCBmb3IgdGhlIGZpcnN0IHRyaW06IgoJCgljdXRhZGFwdCAtZyBHQUdUR1lDQUdDTUdDQ0dDR0dUQUEgLUcgQUNHR0FDVEFDTlZHR0dUV1RDVEFBVCBcCgkgIC0tZGlzY2FyZC11bnRyaW1tZWQgLS1wYWlyLWZpbHRlcj1hbnkgXAoJICAtbyAkb3V0ZGlyX3RyaW0xLyRSMSAtcCAkb3V0ZGlyX3RyaW0xLyRSMiBcCgkgICRpbmRpci8kUjEgJGluZGlyLyRSMgoJCgkjIFNlY29uZCB0cmltOgogIGVjaG8gLWUgIlxuXG4jIyBSdW5uaW5nIGN1dGFkYXB0IGZvciB0aGUgc2Vjb25kIHRyaW06IgoJCgljdXRhZGFwdCAtYSBBVFRBR0FXQUNDQ0JOR1RBR1RDQ0dUIC1BIFRUQUNDR0NHR0NLR0NUR1JDQUNUQyBcCgkgIC1vICRvdXRkaXJfdHJpbTIvJFIxIC1wICRvdXRkaXJfdHJpbTIvJFIyIFwKCSAgJG91dGRpcl90cmltMS8kUjEgJG91dGRpcl90cmltMS8kUjIKCmRvbmUKCiMgUkVQT1JUIEFORCBGSU5BTElaRSAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQplY2hvIC1lICJcblxuIyMgTGlzdGluZyBvdXRwdXQgZmlsZXMgLSBmaXJzdCB0cmltOiIKbHMgLWxoICRvdXRkaXJfdHJpbTEKCmVjaG8gLWUgIlxuXG4jIyBMaXN0aW5nIG91dHB1dCBmaWxlcyAtIHNlY29uZCB0cmltOiIKbHMgLWxoICRvdXRkaXJfdHJpbTEKCmVjaG8gLWUgIlxuXG4jIyBEb25lIHdpdGggY3V0YWRhcHQgc2NyaXB0LiIKZGF0ZQpgYGAKCjwvZGV0YWlscz4KCi0tLS0tCgojIyBTdWJtaXQgdGhlIFNjcmlwdAoKV2UnbGwgZmlyc3QgY2hlY2sgd2hldGhlciB3ZSBhcmUgaW4gdGhlIGNvcnJlY3QgZGlyZWN0b3J5LApzbyB0aGF0IG91ciByZWxhdGl2ZSBwYXRocyB3aWxsIHdvcms6CgpgYGB7YmFzaH0KIyBMZXQncyBjaGVjayB3ZSBhcmUgaW4gdGhlIGNvcnJlY3QgZGlyZWN0b3J5Ogpwd2QKIyBTaG91bGQgcmV0dXJuOiAvZnMvcHJvamVjdC9QQVMwNDcxL3dvcmtzaG9wcy8yMDIwLTEyX21pY3JvLzx5b3VyLXVzZXJuYW1lPgojIElmIG5vdCwgcnVuOiAiY2QgL2ZzL3Byb2plY3QvUEFTMDQ3MS93b3Jrc2hvcHMvMjAyMC0xMl9taWNyby8kVVNFUiIKYGBgCgo8YnI+CgpUaGVuIHdlIGFzc2lnbiBvdXIgaW5wdXQgZGlyZWN0b3J5IGFuZCBiYXNlIG91dHB1dCBkaXJlY3RvcnkgdG8gdGhlIHZhcmlhYmxlcwpgaW5kaXJgIGFuZCBgb3V0ZGlyX2Jhc2VgLCByZXNwZWN0aXZlbHkuCgpXZSdsbCBhbHNvIGFzc2lnbiB0aGUgbmFtZSB3ZSB3YW50IHRvIGdpdmUgdG8gdGhlICpTTFVSTSogbG9nIGZpbGUgdG8gYSB2YXJpYWJsZS4KSGVyZSwgd2UnbGwgYWxzbyB1c2UgdGhlIGAlamAgKlNMVVJNKiBrZXl3b3JkIHRvIGluY2x1ZGUgdGhlICpTTFVSTSogam9iIG51bWJlci4KCmBgYHtiYXNofQppbmRpcj1kYXRhL3Jhdy9mYXN0cV9zdWJzYW1wbGUKb3V0ZGlyX2Jhc2U9ZGF0YS9wcm9jZXNzZWQvZmFzdHFfdHJpbW1lZAoKIyBHaXZlIGEgbmFtZSB0byB0aGUgU0xVUk0gb3V0cHV0IGZpbGU6CiMgKFRoZSAtbyBmbGFnIHNldHMgdGhlIFNMVVJNIGxvZyBmaWxlIG5hbWUsIGFuZCBgJWpgIHJlcHJlc2VudHMgdGhlIGpvYiBJRCkKc2x1cm1fZmlsZT1zbHVybS1jdXRhZGFwdC0kVVNFUi0lai5vdXQKYGBgCgo8YnI+CgpGaW5hbGx5LCB3ZSdyZSByZWFkeSB0byAqKnN1Ym1pdCB0aGUgc2NyaXB0KiohCmBgYHNoCnNiYXRjaCAtbyAkc2x1cm1fZmlsZSBzY3JpcHRzLzAxLWN1dGFkYXB0LnNoICRpbmRpciAkb3V0ZGlyX2Jhc2UKYGBgCgotLS0tLQoKIyMgTW9uaXRvciB0aGUgSm9iIGFuZCBJdHMgT3V0cHV0CgoKIyMjIE1vbml0b3IgdGhlIGpvYgoKV2UgY2FuIGNoZWNrIHdoYXQncyBnb2luZyBvbiB3aXRoIG91ciBqb2IgdXNpbmcgYHNxdWV1ZWA6CgpgYGB7YmFzaH0KIyBJbml0aWFsbHkgdGhlIGpvYiBtYXkgYmUgcXVldWVkIChgUERgIGluIHRoZSBgU1RgIGNvbHVtbik6CnNxdWV1ZSAtdSAkVVNFUgojIEpPQklEIFBBUlRJVElPTiAgICAgTkFNRSAgICAgVVNFUiBTVCAgICAgICBUSU1FICBOT0RFUyBOT0RFTElTVChSRUFTT04pIAojIDI0NTEwODggc2VyaWFsLTQwIDAxLWN1dGFkICAgamVsbWVyIFBEICAgICAgIDA6MDAgICAgICAxIChOb25lKSAKCiMgVGhlbiB0aGUgam9iIHNob3VsZCBiZSBydW5uaW5nOgpzcXVldWUgLXUgJFVTRVIKIyBKT0JJRCBQQVJUSVRJT04gICAgIE5BTUUgICAgIFVTRVIgU1QgICAgICAgVElNRSAgTk9ERVMgTk9ERUxJU1QoUkVBU09OKSAKIyAyNDUxMDg4IHNlcmlhbC00MCAwMS1jdXRhZCAgIGplbG1lciBSICAgICAgIDA6NDMgICAgICAxIChOb25lKSAKCiMgV2hlbiB0aGUgam9iIGhhcyBmaW5pc2hlZCwgc3F1ZXVlIHdpbGwgcmV0dXJuIG5vdGhpbmc6CnNxdWV1ZSAtdSAkVVNFUgojIEpPQklEIFBBUlRJVElPTiAgICAgTkFNRSAgICAgVVNFUiBTVCAgICAgICBUSU1FICBOT0RFUyBOT0RFTElTVChSRUFTT04pIAoKYGBgCgo8YnI+CgpXZSBjb3VsZCBhbHNvIGdldCBtb3JlIHN0YXRpc3RpY3MgYWJvdXQgb3VyIGpvYiB1c2luZyBgc2NvbnRyb2xgOgoKYGBge2Jhc2h9CnNjb250cm9sIHNob3cgam9iIDI0NTEwODggICAjIFJlcGxhY2UgdGhlIG51bWJlciB3aXRoIHlvdXIgSk9CSUQKYGBgCgojIyMgQ2hlY2sgdGhlIG91dHB1dAoKTGV0J3Mgc2VlIGlmIHdlIGhhdmUgYSBsb2cgZmlsZToKCmBgYHtiYXNofQpscyBzbHVybSokVVNFUioKIyBzbHVybS1jdXRhZGFwdC1qZWxtZXItMjQ1MTA4OC5vdXQKYGBgCgpMZXQncyBsb29rIGF0IHRoZSBzdGFydCBvZiB0aGUgKlNMVVJNKiBsb2cgZmlsZToKCmBgYHtiYXNofQpoZWFkIC1uIDIwIHNsdXJtLWN1dGFkYXB0LWplbG1lci0yNDUxMDg4Lm91dAoKIyAjIyBTdGFydGluZyBjdXRhZGFwdCBzY3JpcHQuCiMgRnJpIERlYyAxMSAxMDowMzowMCBFU1QgMjAyMAojICMjIElucHV0IGRpcjogICAgICAgICAgICAgICAgIGRhdGEvcmF3L2Zhc3RxLwojICMjIE91dHB1dCBkaXIgLSBmaXJzdCB0cmltOiAgIGRhdGEvcHJvY2Vzc2VkL2Zhc3RxX3RyaW1tZWQvZmlyc3RfdHJpbQojICMjIElucHV0IGRpciAtIHNlY29uZCB0cmltOiAgIGRhdGEvcHJvY2Vzc2VkL2Zhc3RxX3RyaW1tZWQvZmlyc3RfdHJpbQojIAojICMjIExvb3BpbmcgdGhyb3VnaCBpbnB1dCBmaWxlcy4uLgojIAojICMjIFIxIGlucHV0IGZpbGU6CiMgLXItLXItLXItLSAxIGplbG1lciBQQVMwNDcxIDcuNE0gRGVjICAxMSAwODoyNyBkYXRhL3Jhdy9mYXN0cV9zdWJzYW1wbGUvMjAxLVM0LVY0LVY1X1M1M19MMDAxX1IxXzAwMS5mYXN0cS5negojICMjIFIyIGlucHV0IGZpbGU6CiMgLXItLXItLXItLSAxIGplbG1lciBQQVMwNDcxIDguOE0gRGVjICAxMSAwODoyNyBkYXRhL3Jhdy9mYXN0cV9zdWJzYW1wbGUvMjAxLVM0LVY0LVY1X1M1M19MMDAxX1IyXzAwMS5mYXN0cS5negojIAojIAojICMjIFJ1bm5pbmcgY3V0YWRhcHQgZm9yIHRoZSBmaXJzdCB0cmltOgojIFRoaXMgaXMgY3V0YWRhcHQgMy4xIHdpdGggUHl0aG9uIDMuOC42CiMgQ29tbWFuZCBsaW5lIHBhcmFtZXRlcnM6IC1nIEdBR1RHWUNBR0NNR0NDR0NHR1RBQSAtRyBBQ0dHQUNUQUNOVkdHR1RXVENUQUFUIC0tZGlzY2FyZC11bnRyaW1tZWQgLS1wYWlyLWZpbHRlcj1hbnkgLW8gZGF0YS9wcm9jZXNzZWQvZmFzdHFfdHJpbW1lZC9maXJzdF90cmltLzIwMS1TNC1WNC1WNV9TNTNfTDAwMV9SMV8wMDEuZmFzdHEuZ3ogLXAgZGF0YS9wcm9jZXNzZWQvZmFzdHFfdHJpbW1lZC9maXJzdF90cmltLzIwMS1TNC1WNC1WNV9TNTNfTDAwMV9SMl8wMDEuZmFzdHEuZ3ogZGF0YS9yYXcvZmFzdHFfc3Vic2FtcGxlLzIwMS1TNC1WNC1WNV9TNTNfTDAwMV9SMV8wMDEuZmFzdHEuZ3ogZGF0YS9yYXcvZmFzdHEvMjAxLVM0LVY0LVY1X1M1M19MMDAxX1IyXzAwMS5mYXN0cS5negojIFByb2Nlc3NpbmcgcmVhZHMgb24gMSBjb3JlIGluIHBhaXJlZC1lbmQgbW9kZSAuLi4KYGBgCgpMZXQncyBhbHNvIGxvb2sgYXQgdGhlIGVuZCBvZiB0aGUgZmlsZToKCmBgYHtiYXNofQp0YWlsIHNsdXJtLWN1dGFkYXB0LWplbG1lci0yNDUxMDg4Lm91dAoKIyAtcnctcnctci0tIDEgamVsbWVyIFBBUzA0NzEgMS4xTSBEZWMgIDggMDg6MTMgYmxhbmtNLVY0LVY1X1M3M19MMDAxX1IxXzAwMS5mYXN0cS5negojIC1ydy1ydy1yLS0gMSBqZWxtZXIgUEFTMDQ3MSAxLjRNIERlYyAgOCAwODoxMyBibGFua00tVjQtVjVfUzczX0wwMDFfUjJfMDAxLmZhc3RxLmd6CiMgLXJ3LXJ3LXItLSAxIGplbG1lciBQQVMwNDcxICA1NksgRGVjICA4IDA4OjEzIEgyMC1WNC1WNV9TODhfTDAwMV9SMV8wMDEuZmFzdHEuZ3oKIyAtcnctcnctci0tIDEgamVsbWVyIFBBUzA0NzEgIDY2SyBEZWMgIDggMDg6MTMgSDIwLVY0LVY1X1M4OF9MMDAxX1IyXzAwMS5mYXN0cS5negojIC1ydy1ydy1yLS0gMSBqZWxtZXIgUEFTMDQ3MSAzLjhNIERlYyAgOCAwODoxMyBaeW1vLVY0LVY1X1M4Ml9MMDAxX1IxXzAwMS5mYXN0cS5negojIC1ydy1ydy1yLS0gMSBqZWxtZXIgUEFTMDQ3MSA0LjRNIERlYyAgOCAwODoxMyBaeW1vLVY0LVY1X1M4Ml9MMDAxX1IyXzAwMS5mYXN0cS5negojIAojIAojICMjIERvbmUgd2l0aCBjdXRhZGFwdCBzY3JpcHQuCiMgV2VkIERlYyAgOSAxMjo0NjozMyBFU1QgMjAyMApgYGAKCgo8YnI+CgpGaW5hbGx5LCB3ZSBjYW4gZGlyZWN0bHkgY2hlY2sgb25lIG9mIHRoZSBvdXRwdXQgZGlyczoKCmBgYHtiYXNofQpscyAtbGggZGF0YS9wcm9jZXNzZWQvZmFzdHFfdHJpbW1lZC9zZWNvbmRfdHJpbS8KCiMgdG90YWwgNDc0TQojIC1ydy1ydy1yLS0gMSBqZWxtZXIgUEFTMDQ3MSA3LjhNIERlYyAgOCAwODowOSAxMDEtUzEtVjQtVjVfUzFfTDAwMV9SMV8wMDEuZmFzdHEuZ3oKIyAtcnctcnctci0tIDEgamVsbWVyIFBBUzA0NzEgOS44TSBEZWMgIDggMDg6MDkgMTAxLVMxLVY0LVY1X1MxX0wwMDFfUjJfMDAxLmZhc3RxLmd6CiMgLXJ3LXJ3LXItLSAxIGplbG1lciBQQVMwNDcxIDkuNk0gRGVjICA4IDA4OjA5IDEwMS1TNC1WNC1WNV9TNDlfTDAwMV9SMV8wMDEuZmFzdHEuZ3oKIyAtcnctcnctci0tIDEgamVsbWVyIFBBUzA0NzEgIDEzTSBEZWMgIDggMDg6MDkgMTAxLVM0LVY0LVY1X1M0OV9MMDAxX1IyXzAwMS5mYXN0cS5negojIC1ydy1ydy1yLS0gMSBqZWxtZXIgUEFTMDQ3MSA2LjhNIERlYyAgOCAwODowOSAxMDItUzQtVjQtVjVfUzUwX0wwMDFfUjFfMDAxLmZhc3RxLmd6CiMgLXJ3LXJ3LXItLSAxIGplbG1lciBQQVMwNDcxIDguM00gRGVjICA4IDA4OjA5IDEwMi1TNC1WNC1WNV9TNTBfTDAwMV9SMl8wMDEuZmFzdHEuZ3oKIyAtcnctcnctci0tIDEgamVsbWVyIFBBUzA0NzEgNi4yTSBEZWMgIDggMDg6MDkgMTAzLVM0LVY0LVY1X1M1MV9MMDAxX1IxXzAwMS5mYXN0cS5negojIC1ydy1ydy1yLS0gMSBqZWxtZXIgUEFTMDQ3MSA3LjhNIERlYyAgOCAwODowOSAxMDMtUzQtVjQtVjVfUzUxX0wwMDFfUjJfMDAxLmZhc3RxLmd6CiMgLi4uLltvdGhlciBmaWxlcyBub3Qgc2hvd25dCgoKYGBgCgo8YnI+CgpBbGwgZG9uZSEgT3VyIFtuZXh0IHN0ZXBdKDA3LUFTVi1pbmZlcmVuY2UuaHRtbCkgd2lsbCBiZSB0byBmdXJ0aGVyIHByb2Nlc3MgdGhlIGBmYXN0cWAgZmlsZXMgd2l0aCBgY3V0YWRhcHRgLgoKPGJyPiA8YnI+IDxicj4K</div>


</div>
</div>

</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.odd').parent('tbody').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- tabsets -->

<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});

$(document).ready(function () {
  $('.tabset-dropdown > .nav-tabs > li').click(function () {
    $(this).parent().toggleClass('nav-tabs-open')
  });
});
</script>

<!-- code folding -->
<script>
$(document).ready(function () {
  window.initializeSourceEmbed("05-preprocess-reads.Rmd");
});
</script>

<script>
$(document).ready(function ()  {

    // move toc-ignore selectors from section div to header
    $('div.section.toc-ignore')
        .removeClass('toc-ignore')
        .children('h1,h2,h3,h4,h5').addClass('toc-ignore');

    // establish options
    var options = {
      selectors: "h1,h2,h3",
      theme: "bootstrap3",
      context: '.toc-content',
      hashGenerator: function (text) {
        return text.replace(/[.\\/?&!#<>]/g, '').replace(/\s/g, '_');
      },
      ignoreSelector: ".toc-ignore",
      scrollTo: 0
    };
    options.showAndHide = true;
    options.smoothScroll = true;

    // tocify
    var toc = $("#TOC").tocify(options).data("toc-tocify");
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
